<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>El N√∫mero œÄ - Figuras Planas</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Estilos personalizados -->
    <style>
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            font-size: 18px;
        }

        .main-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            margin: 1rem;
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
            color: white;
            padding: 2rem;
            text-align: center;
        }

        .content-section {
            padding: 2rem;
        }

        .concept-box {
            background: linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 100%);
            border-radius: 15px;
            padding: 2rem;
            margin: 1.5rem 0;
            border-left: 5px solid #8b5cf6;
        }

        .interactive-area {
            background: #f8fafc;
            border-radius: 15px;
            padding: 2rem;
            margin: 1.5rem 0;
            border: 2px dashed #cbd5e1;
        }

        .pi-svg {
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            background: white;
            transition: all 0.3s ease;
        }

        .btn-fun {
            background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            color: white;
            font-size: 1.1rem;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
        }

        .btn-fun:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(139, 92, 246, 0.4);
            color: white;
        }

        .exercise-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            margin: 1rem 0;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border-top: 4px solid #f59e0b;
        }

        .fun-fact {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-radius: 15px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 5px solid #f59e0b;
        }

        .pi-display {
            background: #1e293b;
            color: #8b5cf6;
            padding: 1.5rem;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 1.3rem;
            text-align: center;
            margin: 1rem 0;
        }

        .calculator-area {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border-radius: 15px;
            padding: 2rem;
            margin: 1.5rem 0;
            border: 2px solid #0ea5e9;
        }

        .back-btn {
            background: #6b7280;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            text-decoration: none;
            display: inline-block;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: #4b5563;
            color: white;
            transform: translateY(-2px);
        }

        .pi-animation {
            animation: rotate 10s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .pi-digits {
            font-size: 2rem;
            font-weight: bold;
            color: #8b5cf6;
            text-align: center;
            margin: 1rem 0;
            letter-spacing: 2px;
        }

        @media (max-width: 768px) {
            .content-section {
                padding: 1rem;
            }
            
            .concept-box, .interactive-area, .exercise-card {
                padding: 1.5rem;
            }
            
            .pi-digits {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <!-- Header -->
        <div class="header">
            <a href="index.html" class="back-btn">‚Üê Volver al inicio</a>
            <h1>ü•ß El N√∫mero œÄ (Pi)</h1>
            <p class="mb-0 fs-4">¬°El n√∫mero m√°s famoso de las matem√°ticas!</p>
        </div>

        <div class="content-section">
            <!-- Concepto principal -->
            <div class="concept-box">
                <h2>ü§î ¬øQu√© es œÄ (pi)?</h2>
                <div class="row">
                    <div class="col-md-6">
                        <p>œÄ (pi) es un <strong>n√∫mero muy especial</strong>. Es la relaci√≥n entre la longitud 
                        de cualquier circunferencia y su di√°metro.</p>
                        
                        <p>¬°No importa si la circunferencia es grande como una rueda de bicicleta o peque√±a como una moneda! 
                        Siempre que dividas la longitud de la circunferencia entre su di√°metro, obtienes œÄ.</p>
                        
                        <div class="pi-digits">
                            œÄ ‚âà 3.14159...
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="fun-fact">
                            <h5>üí° ¬°Dato incre√≠ble!</h5>
                            <p>œÄ tiene infinitos decimales que nunca se repiten. ¬°Los matem√°ticos han calculado 
                            m√°s de 31 billones de decimales y siguen descubriendo m√°s!</p>
                            <p>Para nuestros c√°lculos usaremos <strong>œÄ ‚âà 3.14</strong></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Visualizaci√≥n de œÄ -->
            <div class="interactive-area">
                <h3>üëÄ ¬°Veamos œÄ en acci√≥n!</h3>
                <p>Observa c√≥mo œÄ relaciona la circunferencia con el di√°metro:</p>
                
                <div class="row">
                    <div class="col-md-6">
                        <svg class="pi-svg w-100" height="300" viewBox="0 0 400 300">
                            <!-- C√≠rculo -->
                            <circle cx="200" cy="150" r="80" fill="rgba(139, 92, 246, 0.2)" stroke="#8b5cf6" stroke-width="3"/>
                            
                            <!-- Di√°metro -->
                            <line x1="120" y1="150" x2="280" y2="150" stroke="#ef4444" stroke-width="4"/>
                            <text x="200" y="140" text-anchor="middle" font-size="14" fill="#ef4444" font-weight="bold">d</text>
                            
                            <!-- Centro -->
                            <circle cx="200" cy="150" r="4" fill="#1e293b"/>
                            <text x="210" y="145" font-size="12" fill="#1e293b">O</text>
                            
                            <!-- Flecha indicando circunferencia -->
                            <path d="M 280,150 A 80,80 0 0,1 280,150" fill="none" stroke="#8b5cf6" stroke-width="3" 
                                  marker-end="url(#arrowhead)" class="pi-animation"/>
                            
                            <!-- Definir flecha -->
                            <defs>
                                <marker id="arrowhead" markerWidth="10" markerHeight="7" 
                                        refX="9" refY="3.5" orient="auto">
                                    <polygon points="0 0, 10 3.5, 0 7" fill="#8b5cf6"/>
                                </marker>
                            </defs>
                            
                            <text x="200" y="50" text-anchor="middle" font-size="16" fill="#8b5cf6" font-weight="bold">
                                Circunferencia = œÄ √ó d
                            </text>
                        </svg>
                    </div>
                    
                    <div class="col-md-6">
                        <div class="pi-display">
                            <h5>üî¢ La f√≥rmula m√°gica</h5>
                            <div class="mb-3">œÄ = Circunferencia √∑ Di√°metro</div>
                            <div class="mb-3">Circunferencia = œÄ √ó Di√°metro</div>
                            <div>Circunferencia = œÄ √ó 2 √ó Radio</div>
                        </div>
                        
                        <div class="text-center">
                            <button class="btn btn-fun" onclick="showPiDemo()">
                                üé¨ Ver demostraci√≥n
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Demostraci√≥n interactiva -->
            <div class="interactive-area" id="piDemo" style="display: none;">
                <h3>üéØ Demostraci√≥n: "Desenrollando" la circunferencia</h3>
                <p>¬°Imagina que cortamos la circunferencia y la estiramos en l√≠nea recta!</p>
                
                <svg class="pi-svg w-100" height="250" viewBox="0 0 600 250">
                    <!-- C√≠rculo original -->
                    <circle cx="100" cy="125" r="60" fill="none" stroke="#8b5cf6" stroke-width="3"/>
                    <line x1="40" y1="125" x2="160" y2="125" stroke="#ef4444" stroke-width="3"/>
                    <text x="100" y="200" text-anchor="middle" font-size="14" fill="#ef4444">d = 120 unidades</text>
                    
                    <!-- Flecha -->
                    <path d="M 180,125 L 220,125" stroke="#6b7280" stroke-width="2" marker-end="url(#arrow)"/>
                    <text x="200" y="115" text-anchor="middle" font-size="12" fill="#6b7280">desenrollar</text>
                    
                    <!-- L√≠nea desenrollada -->
                    <line x1="250" y1="125" x2="550" y2="125" stroke="#8b5cf6" stroke-width="4"/>
                    <text x="400" y="145" text-anchor="middle" font-size="14" fill="#8b5cf6">
                        Circunferencia ‚âà 377 unidades
                    </text>
                    <text x="400" y="165" text-anchor="middle" font-size="12" fill="#6b7280">
                        377 √∑ 120 ‚âà 3.14 = œÄ
                    </text>
                    
                    <!-- Marcas de medida -->
                    <line x1="250" y1="120" x2="250" y2="130" stroke="#6b7280" stroke-width="1"/>
                    <line x1="370" y1="120" x2="370" y2="130" stroke="#6b7280" stroke-width="1"/>
                    <line x1="490" y1="120" x2="490" y2="130" stroke="#6b7280" stroke-width="1"/>
                    <line x1="550" y1="120" x2="550" y2="130" stroke="#6b7280" stroke-width="1"/>
                    
                    <text x="310" y="115" text-anchor="middle" font-size="10" fill="#ef4444">d</text>
                    <text x="430" y="115" text-anchor="middle" font-size="10" fill="#ef4444">d</text>
                    <text x="520" y="115" text-anchor="middle" font-size="10" fill="#ef4444">d</text>
                    <text x="400" y="100" text-anchor="middle" font-size="12" fill="#059669" font-weight="bold">
                        ¬°Caben œÄ di√°metros!
                    </text>
                    
                    <defs>
                        <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#6b7280"/>
                        </marker>
                    </defs>
                </svg>
            </div>

            <!-- Calculadora de circunferencias -->
            <div class="calculator-area">
                <h3>üßÆ Calculadora de Circunferencias</h3>
                <p>¬°Usa œÄ = 3.14 para calcular circunferencias!</p>
                
                <div class="row">
                    <div class="col-md-6">
                        <h5>Opci√≥n 1: Conoces el radio</h5>
                        <div class="mb-3">
                            <label class="form-label">Radio (cm):</label>
                            <input type="number" id="radiusInput" class="form-control" placeholder="Ej: 5" min="0" step="0.1">
                        </div>
                        <button class="btn btn-fun" onclick="calculateFromRadius()">Calcular</button>
                    </div>
                    
                    <div class="col-md-6">
                        <h5>Opci√≥n 2: Conoces el di√°metro</h5>
                        <div class="mb-3">
                            <label class="form-label">Di√°metro (cm):</label>
                            <input type="number" id="diameterInput" class="form-control" placeholder="Ej: 10" min="0" step="0.1">
                        </div>
                        <button class="btn btn-fun" onclick="calculateFromDiameter()">Calcular</button>
                    </div>
                </div>
                
                <div id="calculatorResult" class="pi-display mt-3" style="display: none;">
                    <div id="calculationSteps"></div>
                </div>
            </div>

            <!-- Ejercicios pr√°cticos -->
            <div class="exercise-card">
                <h3>üéØ ¬°Practica con œÄ!</h3>
                
                <div class="row">
                    <div class="col-md-6">
                        <h5>Ejercicio 1: Rueda de bicicleta</h5>
                        <p>Una rueda de bicicleta tiene un radio de 30 cm. ¬øCu√°l es la longitud de su circunferencia?</p>
                        <p class="text-muted">Usa œÄ = 3.14</p>
                        
                        <div class="mb-3">
                            <input type="number" id="exercise1" class="form-control" placeholder="Respuesta en cm" step="0.1">
                        </div>
                        <button class="btn btn-fun" onclick="checkExercise1()">Comprobar</button>
                        <div id="result1" class="mt-2"></div>
                    </div>
                    
                    <div class="col-md-6">
                        <h5>Ejercicio 2: Pizza circular</h5>
                        <p>Una pizza tiene un di√°metro de 40 cm. ¬øCu√°nto mide el borde (circunferencia) de la pizza?</p>
                        <p class="text-muted">Usa œÄ = 3.14</p>
                        
                        <div class="mb-3">
                            <input type="number" id="exercise2" class="form-control" placeholder="Respuesta en cm" step="0.1">
                        </div>
                        <button class="btn btn-fun" onclick="checkExercise2()">Comprobar</button>
                        <div id="result2" class="mt-2"></div>
                    </div>
                </div>
                
                <div class="row mt-4">
                    <div class="col-md-6">
                        <h5>Ejercicio 3: Problema inverso</h5>
                        <p>Si una circunferencia mide 31.4 cm, ¬øcu√°l es su radio?</p>
                        <p class="text-muted">Pista: Circunferencia = 2 √ó œÄ √ó radio</p>
                        
                        <div class="mb-3">
                            <input type="number" id="exercise3" class="form-control" placeholder="Respuesta en cm" step="0.1">
                        </div>
                        <button class="btn btn-fun" onclick="checkExercise3()">Comprobar</button>
                        <div id="result3" class="mt-2"></div>
                    </div>
                    
                    <div class="col-md-6">
                        <h5>Ejercicio 4: Comparaci√≥n</h5>
                        <p>¬øCu√°ntas veces cabe el di√°metro en la circunferencia?</p>
                        
                        <div class="mb-3">
                            <select id="exercise4" class="form-select">
                                <option value="">Selecciona una opci√≥n</option>
                                <option value="2">2 veces</option>
                                <option value="3">3 veces</option>
                                <option value="3.14">3.14 veces (œÄ)</option>
                                <option value="6">6 veces</option>
                            </select>
                        </div>
                        <button class="btn btn-fun" onclick="checkExercise4()">Comprobar</button>
                        <div id="result4" class="mt-2"></div>
                    </div>
                </div>
            </div>

            <!-- Historia de œÄ -->
            <div class="fun-fact">
                <h4>üìö La incre√≠ble historia de œÄ</h4>
                <div class="row">
                    <div class="col-md-6">
                        <h6>üè∫ Antiguos egipcios (2000 a.C.)</h6>
                        <p>Usaban œÄ ‚âà 3.16 para construir las pir√°mides.</p>
                        
                        <h6>üèõÔ∏è Arqu√≠medes (250 a.C.)</h6>
                        <p>Calcul√≥ œÄ con gran precisi√≥n usando pol√≠gonos. Descubri√≥ que œÄ est√° entre 3.14 y 3.15.</p>
                    </div>
                    <div class="col-md-6">
                        <h6>üñ•Ô∏è Era moderna</h6>
                        <p>Las computadoras han calculado œÄ con m√°s de 31 billones de decimales.</p>
                        
                        <h6>üéâ D√≠a de œÄ</h6>
                        <p>Se celebra el 14 de marzo (3/14) porque œÄ ‚âà 3.14.</p>
                    </div>
                </div>
            </div>

            <!-- Bot√≥n de completar -->
            <div class="text-center mt-4">
                <button class="btn btn-fun btn-lg" onclick="completeLesson()">
                    üéâ ¬°Soy un experto en œÄ!
                </button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Variables
        let exercisesCompleted = 0;
        const PI = 3.14;

        // Inicializaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            // Animaciones de entrada
            const elements = document.querySelectorAll('.concept-box, .interactive-area, .exercise-card, .calculator-area');
            elements.forEach((element, index) => {
                element.style.opacity = '0';
                element.style.transform = 'translateY(30px)';
                
                setTimeout(() => {
                    element.style.transition = 'all 0.6s ease';
                    element.style.opacity = '1';
                    element.style.transform = 'translateY(0)';
                }, index * 200);
            });
        });

        // Mostrar demostraci√≥n de œÄ
        function showPiDemo() {
            const demo = document.getElementById('piDemo');
            if (demo.style.display === 'none') {
                demo.style.display = 'block';
                demo.scrollIntoView({ behavior: 'smooth' });
            } else {
                demo.style.display = 'none';
            }
        }

        // Calculadora desde radio
        function calculateFromRadius() {
            const radius = parseFloat(document.getElementById('radiusInput').value);
            const result = document.getElementById('calculatorResult');
            const steps = document.getElementById('calculationSteps');
            
            if (radius > 0) {
                const circumference = (2 * PI * radius).toFixed(2);
                const diameter = (2 * radius).toFixed(1);
                
                steps.innerHTML = `
                    <h5>üìä Resultados para radio = ${radius} cm</h5>
                    <div class="mb-2"><strong>Di√°metro:</strong> d = 2 √ó r = 2 √ó ${radius} = ${diameter} cm</div>
                    <div class="mb-2"><strong>Circunferencia:</strong> C = 2 √ó œÄ √ó r</div>
                    <div class="mb-2">C = 2 √ó 3.14 √ó ${radius} = <strong>${circumference} cm</strong></div>
                `;
                result.style.display = 'block';
            } else {
                alert('Por favor, ingresa un radio v√°lido mayor que 0.');
            }
        }

        // Calculadora desde di√°metro
        function calculateFromDiameter() {
            const diameter = parseFloat(document.getElementById('diameterInput').value);
            const result = document.getElementById('calculatorResult');
            const steps = document.getElementById('calculationSteps');
            
            if (diameter > 0) {
                const circumference = (PI * diameter).toFixed(2);
                const radius = (diameter / 2).toFixed(1);
                
                steps.innerHTML = `
                    <h5>üìä Resultados para di√°metro = ${diameter} cm</h5>
                    <div class="mb-2"><strong>Radio:</strong> r = d √∑ 2 = ${diameter} √∑ 2 = ${radius} cm</div>
                    <div class="mb-2"><strong>Circunferencia:</strong> C = œÄ √ó d</div>
                    <div class="mb-2">C = 3.14 √ó ${diameter} = <strong>${circumference} cm</strong></div>
                `;
                result.style.display = 'block';
            } else {
                alert('Por favor, ingresa un di√°metro v√°lido mayor que 0.');
            }
        }

        // Ejercicios
        function checkExercise1() {
            const answer = parseFloat(document.getElementById('exercise1').value);
            const result = document.getElementById('result1');
            const expected = 2 * PI * 30; // 188.4
            
            if (Math.abs(answer - expected) < 1) {
                result.innerHTML = '<div class="alert alert-success">üéâ ¬°Correcto! C = 2 √ó 3.14 √ó 30 = 188.4 cm</div>';
                exercisesCompleted++;
            } else {
                result.innerHTML = '<div class="alert alert-danger">‚ùå Usa la f√≥rmula: C = 2 √ó œÄ √ó r = 2 √ó 3.14 √ó 30</div>';
            }
        }

        function checkExercise2() {
            const answer = parseFloat(document.getElementById('exercise2').value);
            const result = document.getElementById('result2');
            const expected = PI * 40; // 125.6
            
            if (Math.abs(answer - expected) < 1) {
                result.innerHTML = '<div class="alert alert-success">üéâ ¬°Perfecto! C = œÄ √ó d = 3.14 √ó 40 = 125.6 cm</div>';
                exercisesCompleted++;
            } else {
                result.innerHTML = '<div class="alert alert-danger">‚ùå Usa la f√≥rmula: C = œÄ √ó d = 3.14 √ó 40</div>';
            }
        }

        function checkExercise3() {
            const answer = parseFloat(document.getElementById('exercise3').value);
            const result = document.getElementById('result3');
            const expected = 31.4 / (2 * PI); // 5
            
            if (Math.abs(answer - expected) < 0.5) {
                result.innerHTML = '<div class="alert alert-success">üéâ ¬°Excelente! Si C = 31.4, entonces r = C √∑ (2œÄ) = 31.4 √∑ 6.28 = 5 cm</div>';
                exercisesCompleted++;
            } else {
                result.innerHTML = '<div class="alert alert-danger">‚ùå Despeja r de la f√≥rmula: C = 2 √ó œÄ √ó r, entonces r = C √∑ (2 √ó œÄ)</div>';
            }
        }

        function checkExercise4() {
            const answer = document.getElementById('exercise4').value;
            const result = document.getElementById('result4');
            
            if (answer === '3.14') {
                result.innerHTML = '<div class="alert alert-success">üéâ ¬°Correcto! El di√°metro cabe exactamente œÄ veces (3.14 veces) en la circunferencia</div>';
                exercisesCompleted++;
            } else {
                result.innerHTML = '<div class="alert alert-danger">‚ùå Recuerda que œÄ = Circunferencia √∑ Di√°metro, por lo que el di√°metro cabe œÄ veces</div>';
            }
        }

        function completeLesson() {
            if (exercisesCompleted >= 3) {
                // Marcar como completado en el sistema principal
                if (window.parent && window.parent.markTopicCompleted) {
                    window.parent.markTopicCompleted('numero-pi.html');
                }
                
                alert('üéâ ¬°Incre√≠ble! Has dominado el n√∫mero œÄ. ¬°Ahora puedes calcular cualquier circunferencia!');
                window.location.href = 'index.html';
            } else {
                alert('üí™ ¬°Casi lo tienes! Completa al menos 3 ejercicios antes de terminar la lecci√≥n.');
            }
        }
    </script>
</body>
</html>