/* Tailwind CSS */
@import 'https://cdn.tailwindcss.com/3.3.0';

/* 游 MODO CLARO (por defecto) */
:root {
    /* Colores principales */
    --primary: #2196F3;       /* Azul brillante */
    --secondary: #FFC107;     /* Amarillo c치lido */
    --accent: #8BC34A;        /* Verde lima */
    
    /* Colores complementarios */
    --orange: #FF9800;        /* Avisos o tri치ngulos */
    --turquoise: #00BCD4;     /* Per칤metros / 치reas */
    --purple: #7E57C2;        /* T칤tulos o secciones */
    
    /* Sistema */
    --background: #F5F5F5;    /* Fondo general */
    --surface: #FFFFFF;       /* Tarjetas, modales */
    --text-main: #1A237E;     /* Azul marino suave */
    --text-secondary: #424242;/* Gris oscuro legible */
    --error: #F44336;         /* Errores */
    --success: #4CAF50;       /* 칄xito */
    --warning: #FF9800;       /* Advertencias */
    --info: #2196F3;          /* Informaci칩n */
    --border-color: rgba(0,0,0,0.1);
    
    /* Sombras */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
}

/* 游깿 MODO OSCURO */
@media (prefers-color-scheme: dark) {
    :root {
        --primary: #64B5F6;      /* Azul m치s suave en fondo oscuro */
        --secondary: #FFD54F;    /* Amarillo luminoso */
        --accent: #AED581;       /* Verde claro */
        --orange: #FFB74D;
        --turquoise: #4DD0E1;
        --purple: #B39DDB;
        --background: #121212;   /* Fondo base oscuro */
        --surface: #1E1E1E;      /* Tarjetas / paneles */
        --text-main: #E3F2FD;    /* Azul muy claro para texto */
        --text-secondary: #B0BEC5;/* Gris azulado */
        --error: #EF5350;
        --success: #66BB6A;
        --warning: #FFB74D;
        --info: #64B5F6;
        --border-color: rgba(255,255,255,0.1);
        
        /* Sombras para modo oscuro */
        --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
        --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.4), 0 1px 2px -1px rgb(0 0 0 / 0.4);
        --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.4), 0 2px 4px -2px rgb(0 0 0 / 0.4);
        --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.4), 0 4px 6px -4px rgb(0 0 0 / 0.4);
        --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.4), 0 8px 10px -6px rgb(0 0 0 / 0.4);
    }
}

/* Clase para forzar modo oscuro manualmente */
.dark {
    --primary: #64B5F6;
    --secondary: #FFD54F;
    --accent: #AED581;
    --orange: #FFB74D;
    --turquoise: #4DD0E1;
    --purple: #B39DDB;
    --background: #121212;
    --surface: #1E1E1E;
    --text-main: #E3F2FD;
    --text-secondary: #B0BEC5;
    --error: #EF5350;
    --success: #66BB6A;
    --warning: #FFB74D;
    --info: #64B5F6;
    --border-color: rgba(255,255,255,0.1);
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
    --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.4), 0 1px 2px -1px rgb(0 0 0 / 0.4);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.4), 0 2px 4px -2px rgb(0 0 0 / 0.4);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.4), 0 4px 6px -4px rgb(0 0 0 / 0.4);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.4), 0 8px 10px -6px rgb(0 0 0 / 0.4);
}

/* 游댟 Tipograf칤a general */
body {
    background-color: var(--background);
    color: var(--text-main);
    font-family: 'Nunito', 'Poppins', system-ui, -apple-system, sans-serif;
    transition: background-color 0.4s ease, color 0.4s ease;
    font-size: 18px;
    line-height: 1.6;
}

/* Utilidades personalizadas con variables CSS */
.bg-primary { background-color: var(--primary); }
.bg-secondary { background-color: var(--secondary); }
.bg-accent { background-color: var(--accent); }
.bg-surface { background-color: var(--surface); }
.bg-background { background-color: var(--background); }

.text-primary { color: var(--primary); }
.text-secondary { color: var(--text-secondary); }
.text-main { color: var(--text-main); }
.text-accent { color: var(--accent); }
.text-error { color: var(--error); }
.text-success { color: var(--success); }
.text-warning { color: var(--warning); }
.text-info { color: var(--info); }

.border-primary { border-color: var(--primary); }
.border-accent { border-color: var(--accent); }
.border-surface { border-color: var(--border-color); }

.shadow-custom { box-shadow: var(--shadow); }
.shadow-custom-md { box-shadow: var(--shadow-md); }
.shadow-custom-lg { box-shadow: var(--shadow-lg); }
.shadow-custom-xl { box-shadow: var(--shadow-xl); }

/* Componentes personalizados */
.card {
    background-color: var(--surface);
    border-radius: 1rem;
    padding: 1.5rem;
    box-shadow: var(--shadow-lg);
    border: 1px solid var(--border-color);
    transition: all 0.3s ease;
}

.card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-xl);
}

.btn-primary {
    background: linear-gradient(135deg, var(--primary) 0%, var(--purple) 100%);
    color: var(--surface);
    padding: 0.75rem 1.5rem;
    border-radius: 0.75rem;
    font-weight: 600;
    border: none;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: var(--shadow-md);
    text-decoration: none;
    display: inline-block;
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
    color: var(--surface);
}

.btn-accent {
    background: linear-gradient(135deg, var(--accent) 0%, #689F38 100%);
    color: var(--surface);
    padding: 0.75rem 1.5rem;
    border-radius: 0.75rem;
    font-weight: 600;
    border: none;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: var(--shadow-md);
}

.btn-accent:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
    color: var(--surface);
}

.btn-secondary {
    background: var(--surface);
    color: var(--text-main);
    padding: 0.75rem 1.5rem;
    border-radius: 0.75rem;
    font-weight: 500;
    border: 2px solid var(--border-color);
    cursor: pointer;
    transition: all 0.3s ease;
}

.btn-secondary:hover {
    border-color: var(--primary);
    color: var(--primary);
    transform: translateY(-1px);
}

/* Bot칩n de cambio de tema */
.theme-toggle {
    position: fixed;
    top: 1rem;
    right: 1rem;
    z-index: 50;
    background: var(--surface);
    border: 2px solid var(--border-color);
    border-radius: 50%;
    width: 3rem;
    height: 3rem;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: var(--shadow-lg);
}

.theme-toggle:hover {
    transform: scale(1.1);
    border-color: var(--primary);
}

/* Elementos interactivos */
.interactive-svg {
    border: 2px solid var(--border-color);
    border-radius: 0.5rem;
    background: var(--surface);
    cursor: pointer;
    transition: all 0.3s ease;
}

.interactive-svg:hover {
    border-color: var(--primary);
    box-shadow: var(--shadow-md);
}

/* Alertas */
.alert {
    padding: 1rem;
    border-radius: 0.5rem;
    margin: 0.5rem 0;
    border-left: 4px solid;
}

.alert-success {
    background-color: color-mix(in srgb, var(--success) 15%, var(--surface));
    color: var(--success);
    border-left-color: var(--success);
}

.alert-error {
    background-color: color-mix(in srgb, var(--error) 15%, var(--surface));
    color: var(--error);
    border-left-color: var(--error);
}

.alert-warning {
    background-color: color-mix(in srgb, var(--warning) 15%, var(--surface));
    color: var(--warning);
    border-left-color: var(--warning);
}

.alert-info {
    background-color: color-mix(in srgb, var(--info) 15%, var(--surface));
    color: var(--info);
    border-left-color: var(--info);
}

/* Formularios */
.form-input {
    background-color: var(--surface);
    border: 2px solid var(--border-color);
    border-radius: 0.5rem;
    padding: 0.75rem;
    color: var(--text-main);
    transition: all 0.3s ease;
    width: 100%;
}

.form-input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--primary) 20%, transparent);
}

/* Animaciones */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes bounce {
    0%, 20%, 53%, 80%, 100% {
        transform: translate3d(0,0,0);
    }
    40%, 43% {
        transform: translate3d(0, -10px, 0);
    }
    70% {
        transform: translate3d(0, -5px, 0);
    }
    90% {
        transform: translate3d(0, -2px, 0);
    }
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.animate-fadeInUp {
    animation: fadeInUp 0.6s ease-out;
}

.animate-bounce {
    animation: bounce 1s ease-in-out;
}

.animate-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animate-spin {
    animation: spin 1s linear infinite;
}

/* Elementos espec칤ficos por tema */
.tema-base-altura {
    --theme-primary: var(--accent);
    --theme-secondary: #689F38;
}

.tema-suma-angulos {
    --theme-primary: var(--primary);
    --theme-secondary: #1976D2;
}

.tema-circunferencia {
    --theme-primary: var(--error);
    --theme-secondary: #D32F2F;
}

.tema-numero-pi {
    --theme-primary: var(--purple);
    --theme-secondary: #6A1B9A;
}

.tema-figuras-circulares {
    --theme-primary: var(--secondary);
    --theme-secondary: #F57C00;
}

.tema-posiciones-rectas {
    --theme-primary: var(--turquoise);
    --theme-secondary: #0097A7;
}

/* Headers espec칤ficos por tema */
.tema-base-altura .header {
    background: linear-gradient(135deg, var(--accent) 0%, #689F38 100%);
}

.tema-suma-angulos .header {
    background: linear-gradient(135deg, var(--primary) 0%, #1976D2 100%);
}

.tema-circunferencia .header {
    background: linear-gradient(135deg, var(--error) 0%, #D32F2F 100%);
}

.tema-numero-pi .header {
    background: linear-gradient(135deg, var(--purple) 0%, #6A1B9A 100%);
}

.tema-figuras-circulares .header {
    background: linear-gradient(135deg, var(--secondary) 0%, #F57C00 100%);
}

.tema-posiciones-rectas .header {
    background: linear-gradient(135deg, var(--turquoise) 0%, #0097A7 100%);
}

/* Responsive */
@media (max-width: 768px) {
    body {
        font-size: 16px;
    }
    
    .card {
        padding: 1rem;
        margin: 0.5rem;
    }
    
    .theme-toggle {
        top: 0.5rem;
        right: 0.5rem;
        width: 2.5rem;
        height: 2.5rem;
    }
}

/* Modo offline */
.offline-indicator {
    background: var(--warning);
    color: var(--surface);
    text-align: center;
    padding: 0.5rem;
    font-weight: 500;
    display: none;
}

.offline .offline-indicator {
    display: block;
}

/* Elementos SVG interactivos */
.draggable-vertex {
    cursor: grab;
    transition: all 0.2s ease;
}

.draggable-vertex:hover {
    transform: scale(1.2);
    filter: drop-shadow(0 0 8px var(--primary));
}

.draggable-vertex:active {
    cursor: grabbing;
}

.clickable-element {
    cursor: pointer;
    transition: all 0.3s ease;
}

.clickable-element:hover {
    filter: drop-shadow(0 0 8px var(--primary));
}

.element-highlight {
    animation: pulse 1s infinite;
}

/* Progress bars */
.progress-bar {
    background: var(--background);
    border-radius: 0.25rem;
    overflow: hidden;
    height: 0.5rem;
}

.progress-fill {
    background: linear-gradient(90deg, var(--accent) 0%, var(--primary) 100%);
    height: 100%;
    transition: width 0.5s ease;
    border-radius: 0.25rem;
}